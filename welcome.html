<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ğŸ‰ Ù…Ø±Ø­Ø¨Ù‹Ø§</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
  *{box-sizing:border-box}
  body{margin:0;height:100vh;display:flex;justify-content:center;align-items:center;background: linear-gradient(180deg,#0b2540,#07122a);font-family: "Segoe UI", Roboto, Arial, sans-serif;color:#e6eef9}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02)); padding:30px 28px;border-radius:16px;max-width:720px;width:92%;box-shadow:0 12px 40px rgba(2,6,23,0.7);text-align:center}
  h1{margin:0;font-size:22px;color:#fff}
  p.lead{margin:8px 0 18px 0;color:#cfe8ff}
  .meta{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:10px}
  .chip{background:rgba(255,255,255,0.04);padding:10px 14px;border-radius:12px;color:#dbeafe;font-weight:600}
  .actions{display:flex;gap:10px;justify-content:center;margin-top:18px;flex-wrap:wrap}
  a.btn{display:inline-block;padding:10px 16px;border-radius:10px;text-decoration:none;color:#06203a;background:#fff;font-weight:700}
  .secondary{background:transparent;border:1px solid rgba(255,255,255,0.08);color:#cfe8ff}
  .small{font-size:13px;color:#9fb6d6;margin-top:14px}
  @media (max-width:520px){ h1{font-size:18px} .chip{padding:8px 10px}}
</style>
</head>
<body>
  <div class="card" id="card">
    <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h1>
    <p class="lead" id="welcomeLine">Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒâ€¦</p>

    <div class="meta" id="metaArea" style="display:none">
      <div class="chip" id="nameChip">Ø§Ù„Ø§Ø³Ù…: â€”</div>
      <div class="chip" id="idChip">ID: â€”</div>
      <div class="chip" id="usernameChip">Username: â€”</div>
    </div>

    <div class="actions" id="actions" style="display:none">
      <a class="btn" id="openFeature" href="#">âœ¨ Ø§ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</a>
      <a class="btn secondary" id="logout" href="#">ğŸ”™ Ø®Ø±ÙˆØ¬</a>
    </div>

    <div class="small">Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ø£ÙŠ Ù…Ø´ÙƒÙ„Ø© ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± @hx_ed Ø£Ùˆ @hamedareqi</div>
  </div>

<script>
  (function(){
    let tg = null;
    try { tg = window.Telegram && window.Telegram.WebApp ? window.Telegram.WebApp : null; } catch(e){ tg=null; }
    if(!tg){
      document.getElementById('welcomeLine').innerText = "Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙÙØªØ­ Ø¯Ø§Ø®Ù„ Telegram WebApp.";
      return;
    }
    try{ tg.expand(); }catch(e){}

    const user = tg.initDataUnsafe && tg.initDataUnsafe.user ? tg.initDataUnsafe.user : null;
    if(!user){
      document.getElementById('welcomeLine').innerText = "Ù„Ù… Ù†Ø³ØªØ·Ø¹ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….";
      return;
    }

    // Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    document.getElementById('welcomeLine').innerText = `Ø£Ù‡Ù„Ø§Ù‹ ${user.first_name || ''} â€” ØªÙ… Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ùƒ Ø¨Ø§Ù„ÙˆØµÙˆÙ„`;
    document.getElementById('nameChip').innerText = `Ø§Ù„Ø§Ø³Ù…: ${ (user.first_name||'') + (user.last_name ? ' '+user.last_name : '') }`;
    document.getElementById('idChip').innerText = `ID: ${user.id}`;
    document.getElementById('usernameChip').innerText = `Username: ${user.username ? '@'+user.username : 'â€”'}`;
    document.getElementById('metaArea').style.display = 'flex';
    document.getElementById('actions').style.display = 'flex';

    // Ù…Ø«Ø§Ù„: Ø²Ø± Ù„ÙØªØ­ Ù…ÙŠØ²Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„ÙˆÙŠØ¨ Ø¢Ø¨ (ØªØ¹Ø¯ÙŠÙ„ Ø­Ø³Ø¨ Ø­Ø§Ø¬ØªÙƒ)
    document.getElementById('openFeature').addEventListener('click', function(e){
      e.preventDefault();
      alert('Ù…ÙŠØ²Ø© ØªÙˆØ¶ÙŠØ­ÙŠØ© â€” Ø¶Ø¹ Ù‡Ù†Ø§ Ø£ÙŠ ÙˆØ¸ÙŠÙØ© ØªØ±ÙŠØ¯Ù‡Ø§');
    });

    // Ø²Ø± Ø®Ø±ÙˆØ¬: Ù†Ø¹ÙˆØ¯ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø£Ùˆ Ù†ØºÙ„Ù‚ Ø§Ù„ÙˆÙŠØ¨ Ø¢Ø¨
    document.getElementById('logout').addEventListener('click', function(e){
      e.preventDefault();
      try {
        // ÙÙŠ WebApp ÙŠÙ…ÙƒÙ†Ùƒ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©
        tg.close();
      } catch(err){
        // Ø£Ùˆ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
        window.location.href = 'index.html';
      }
    });
  })();
</script>
</body>
</html>
